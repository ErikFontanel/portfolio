.index {
  .intro {
    // grid-column: wide / last;
    grid-column: wide;
    display: grid;
    grid-template-columns: 7fr 2fr;
    gap: var(--gutter);
    padding: $spacing-loose;

    .button {
      font-size: font-size(medium);
    }
  }
}

.projects {
  display: grid;
  // prettier-ignore
  grid-template-columns:
    [full-start] minmax(var(--gutter), 1fr)
    [main-start] 1.25fr 1.25fr 1.25fr 1.25fr
    [center] 1.25fr 1.25fr 1.25fr 1.25fr
    [main-end] minmax(var(--gutter), 1fr)
    [full-end];
  grid-auto-columns: 1fr;
  gap: var(--gutter);

  @media (--mobile) {
    overflow-x: auto;
    overflow-y: visible;
    scroll-snap-type: x proximity;
    width: 100vw;
    grid-template-columns: auto;
    grid-auto-columns: clamp(300px, 33vw, 480px);
    grid-template-rows: auto;
    gap: $spacing-base calc(var(--gutter) * 0.5);
    justify-items: start;
    align-content: center;

    &::before {
      content: '';
      width: calc(#{$spacing-base} + var(--gutter));
      height: 100%;
      grid-row: 1;
    }

    &::after {
      content: '';
      width: calc(#{$spacing-base} + var(--gutter));
      height: 100%;
      grid-row: 1;
    }

    .index & {
      grid-column: full;
    }

    > * {
      grid-row: 1;
      grid-column: auto;
    }
  }

  > * {
    grid-column: main;
  }

  > .portrait\:1-col {
  }

  > .portrait\:2-col {
  }

  > .landscape\:1-col {
    grid-column-start: 2;
    grid-column-end: span 6;

    &:nth-of-type(0n + 1) {
      grid-column-start: 4;
    }
  }

  > .landscape\:2-col {
    grid-column-start: 1;
  }
}
